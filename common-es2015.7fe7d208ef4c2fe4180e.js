(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{J7xr:function(n,t,e){"use strict";e.d(t,"a",(function(){return P}));var i=e("wqpa"),a=e("EM62"),c=e("2kYt"),o=e("PBFl"),s=e("sEIs"),r=e("s2Ay");function l(n,t){if(1&n){const n=a.Wb();a.Vb(0,"a",7),a.dc("click",(function(){a.yc(n);const t=a.hc();return t.searchOpen=!t.searchOpen})),a.Qb(1,"i",8),a.Ub()}}const p=function(){return{exact:!0}};function u(n,t){if(1&n&&(a.Vb(0,"a",10),a.Jc(1),a.ic(2,"translate"),a.Ub()),2&n){const n=t.$implicit;a.nc("routerLinkActiveOptions",a.pc(7,p))("routerLink",n.route)("queryParams",n.data)("href",n.url,a.Ac),a.Cb(1),a.Lc(" ",a.jc(2,5,n.name)," ")}}function b(n,t){if(1&n&&(a.Vb(0,"div"),a.Hc(1,u,3,8,"a",9),a.Ub()),2&n){const n=a.hc();a.Cb(1),a.nc("ngForOf",n.links)}}function h(n,t){if(1&n){const n=a.Wb();a.Vb(0,"a",7),a.dc("click",(function(){a.yc(n);const t=a.hc();return t.menuOpen=!t.menuOpen})),a.Qb(1,"i",11),a.Ub()}}function g(n,t){1&n&&a.Qb(0,"div",12)}function m(n,t){1&n&&a.lc(0,0,["*ngIf","!mobile && (searchOpen || !showSearchLink)"])}function d(n,t){1&n&&(a.Vb(0,"span"),a.Qb(1,"i",8),a.Jc(2,"Search for a species"),a.Ub())}function f(n,t){1&n&&(a.Vb(0,"span"),a.Qb(1,"i",14),a.Ub())}function v(n,t){if(1&n){const n=a.Wb();a.Vb(0,"a",13),a.dc("click",(function(){return a.yc(n),a.hc().toggleSearch()})),a.Hc(1,d,3,0,"span",2),a.Hc(2,f,2,0,"span",2),a.Ub()}if(2&n){const n=a.hc();a.Cb(1),a.nc("ngIf",!n.searchOpen),a.Cb(1),a.nc("ngIf",n.searchOpen&&n.showSearchLink)}}function x(n,t){1&n&&(a.Vb(0,"div",15),a.lc(1,1),a.Ub())}function C(n,t){if(1&n&&(a.Vb(0,"a",18),a.Jc(1),a.ic(2,"translate"),a.Ub()),2&n){const n=t.$implicit;a.nc("routerLinkActiveOptions",a.pc(7,p))("routerLink",n.route)("queryParams",n.data)("href",n.url,a.Ac),a.Cb(1),a.Lc(" ",a.jc(2,5,n.name)," ")}}function O(n,t){if(1&n&&(a.Vb(0,"div",16),a.Hc(1,C,3,8,"a",17),a.Ub()),2&n){const n=a.hc();a.Cb(1),a.nc("ngForOf",n.links)}}const w=[[["","slot","search2"]],[["","slot","search1"]]],y=["[slot=search2]","[slot=search1]"];let P=(()=>{class n{constructor(){this.showSearchLink=!1,this.searchOpen=!1,this.menuOpen=!1,this.mobile=!1,this.mobile=window.innerWidth<=i.i.mobileMedium}ngOnInit(){}toggleSearch(){this.searchOpen=!this.searchOpen}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Jb({type:n,selectors:[["mol-nav"]],inputs:{links:"links",showSearchLink:"showSearchLink"},ngContentSelectors:y,decls:9,vars:8,consts:[[1,"navigation"],["mat-button","","class","mobile-only open-search-button",3,"click",4,"ngIf"],[4,"ngIf"],["class","spacer",4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],["class","navigation nav-menu mobile-search",4,"ngIf"],["class","navigation nav-menu",4,"ngIf"],["mat-button","",1,"mobile-only","open-search-button",3,"click"],[1,"fa","fa-search"],["mat-button","","routerLinkActive","active","queryParamsHandling","merge",3,"routerLinkActiveOptions","routerLink","queryParams","href",4,"ngFor","ngForOf"],["mat-button","","routerLinkActive","active","queryParamsHandling","merge",3,"routerLinkActiveOptions","routerLink","queryParams","href"],[1,"fa","fa-bars"],[1,"spacer"],["mat-button","",3,"click"],[1,"fa","fa-close"],[1,"navigation","nav-menu","mobile-search"],[1,"navigation","nav-menu"],["mat-button","","class","mobile-only","routerLinkActive","active","queryParamsHandling","merge",3,"routerLinkActiveOptions","routerLink","queryParams","href",4,"ngFor","ngForOf"],["mat-button","","routerLinkActive","active","queryParamsHandling","merge",1,"mobile-only",3,"routerLinkActiveOptions","routerLink","queryParams","href"]],template:function(n,t){1&n&&(a.mc(w),a.Vb(0,"div",0),a.Hc(1,l,2,0,"a",1),a.Hc(2,b,2,1,"div",2),a.Hc(3,h,2,0,"a",1),a.Hc(4,g,1,0,"div",3),a.Hc(5,m,1,0,void 0,2),a.Hc(6,v,3,2,"a",4),a.Ub(),a.Hc(7,x,2,0,"div",5),a.Hc(8,O,2,1,"div",6)),2&n&&(a.Cb(1),a.nc("ngIf",t.showSearchLink),a.Cb(1),a.nc("ngIf",!t.searchOpen),a.Cb(1),a.nc("ngIf",(null==t.links?null:t.links.length)>0),a.Cb(1),a.nc("ngIf",!t.mobile),a.Cb(1),a.nc("ngIf",!t.mobile&&(t.searchOpen||!t.showSearchLink)),a.Cb(1),a.nc("ngIf",t.showSearchLink&&(null==t.links?null:t.links.length)>0),a.Cb(1),a.nc("ngIf",t.mobile&&t.searchOpen),a.Cb(1),a.nc("ngIf",t.mobile&&t.menuOpen))},directives:[c.t,o.a,c.s,s.i,s.h],pipes:[r.d],styles:[".navigation[_ngcontent-%COMP%]{display:flex;text-align:center;background-color:#8cbf44;height:52px;padding:0 15px}.navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;border-radius:0;padding:0 20px;text-align:left;font-size:16px;font-weight:400;height:100%;line-height:50px}.navigation[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], .navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#87b93f;color:#fff;transition:all .3s ease}.spacer[_ngcontent-%COMP%]{flex-grow:1}.open-search-button[_ngcontent-%COMP%]{display:none}.fa.fa-search[_ngcontent-%COMP%]{margin-right:.5em}.mat-button[_ngcontent-%COMP%]{min-width:auto}@media screen and (max-device-width:480px){.navigation[_ngcontent-%COMP%]{flex-wrap:wrap;padding:0;flex-direction:row;height:unset;justify-content:space-between;align-items:flex-end}.navigation[_ngcontent-%COMP%]   .open-search-button[_ngcontent-%COMP%]{display:block}.navigation.nav-menu[_ngcontent-%COMP%]{box-shadow:0 2px 6px 0 #ddd;display:flex;flex-direction:column}.navigation.nav-menu[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#87b93f}.navigation.nav-menu.mobile-search[_ngcontent-%COMP%]{align-items:center}.navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(.active, .mobile-only)[_ngcontent-%COMP%]{display:none}.navigation[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#8cbf44}.space[_ngcontent-%COMP%]{display:none;flex-grow:0;width:0}}"]}),n})()},Xclt:function(n,t,e){"use strict";e.d(t,"a",(function(){return S}));var i=e("EM62"),a=e("nIj0"),c=e("mWib"),o=e("xVbo"),s=e("TLy2"),r=e("XZLj"),l=e("wqpa"),p=e("sEIs"),u=e("29Wa"),b=e("2kYt"),h=e("R7+U"),g=e("mFH5"),m=e("s2Ay");function d(n,t){1&n&&(i.Vb(0,"mat-label",5),i.Jc(1),i.ic(2,"translate"),i.Ub()),2&n&&(i.Cb(1),i.Kc(i.jc(2,1,"all_groups")))}function f(n,t){1&n&&(i.Vb(0,"mat-option",6),i.Jc(1),i.ic(2,"translate"),i.Ub()),2&n&&(i.Cb(1),i.Lc(" ",i.jc(2,1,"all_groups"),""))}function v(n,t){if(1&n&&(i.Vb(0,"mat-option",10),i.Jc(1),i.Ub()),2&n){const n=t.$implicit;i.nc("value",n.taxa),i.Cb(1),i.Lc(" ",n.title," ")}}function x(n,t){if(1&n&&(i.Vb(0,"mat-optgroup",8),i.Hc(1,v,2,2,"mat-option",9),i.Ub()),2&n){const n=t.$implicit;i.nc("label",n.name),i.Cb(1),i.nc("ngForOf",n.taxa)}}function C(n,t){if(1&n&&(i.Tb(0),i.Hc(1,x,2,2,"mat-optgroup",7),i.Sb()),2&n){const n=i.hc();i.Cb(1),i.nc("ngForOf",n.taxaGroups)}}function O(n,t){if(1&n&&(i.Vb(0,"mat-option",10),i.Jc(1),i.Ub()),2&n){const n=t.$implicit;i.nc("value",n.taxa),i.Cb(1),i.Lc(" ",n.title," ")}}function w(n,t){if(1&n&&(i.Vb(0,"mat-optgroup",8),i.Hc(1,O,2,2,"mat-option",9),i.Ub()),2&n){const n=t.$implicit;i.nc("label",n.name),i.Cb(1),i.nc("ngForOf",n.taxa)}}function y(n,t){if(1&n&&(i.Tb(0),i.Hc(1,w,2,2,"mat-optgroup",7),i.Sb()),2&n){const n=i.hc();i.Cb(1),i.nc("ngForOf",n.overwriteTaxa)}}const P=function(n){return{"in-nav2":n}},_={description:"",title:"All",taxa:"",tc_id:null,sortby:100,groupby_sortby:0,groupby:"all",icon:""};let M=(()=>{class n{constructor(n){this.speciesService=n,this.showLabel=!0,this.taxaControl=new a.f,this.chosen=new i.o,this.nav=!1,this.selected="",this.mode="",this.version="",this.allOption=!0,this.overwriteTaxa=null}ngOnInit(){this.fetchTaxa(),this.taxaControl.valueChanges.subscribe(n=>{this.showLabel=!1,this.chosen.emit(""===n?_:this.taxa.find(t=>t.taxa===n))})}ngOnChanges(n){n.version&&""!=this.version&&this.fetchTaxa()}fetchTaxa(){this.speciesService.availableTaxa(this.mode,this.version).subscribe(n=>{this.taxa=n;const t={};n.forEach(n=>{t[n.groupby]?t[n.groupby].taxa.push(n):t[n.groupby]={name:n.groupby,groupby_sortby:n.groupby_sortby,taxa:[n]}}),this.taxaGroups=Object.keys(t).map(n=>t[n]).sort((n,t)=>n.groupby_sortby-t.groupby_sortby),this.selected&&this.taxaControl.setValue(this.selected)})}}return n.\u0275fac=function(t){return new(t||n)(i.Pb(r.g))},n.\u0275cmp=i.Jb({type:n,selectors:[["mol-availabletaxa-dropdown"]],inputs:{nav:"nav",selected:"selected",mode:"mode",version:"version",allOption:"allOption",overwriteTaxa:"overwriteTaxa"},outputs:{chosen:"chosen"},features:[i.Ab],decls:6,vars:9,consts:[["appearance","none","floatLabel","never",1,"taxa-drop"],["class","drop-label",4,"ngIf"],[3,"formControl"],["translate","","value","",4,"ngIf"],[4,"ngIf"],[1,"drop-label"],["translate","","value",""],[3,"label",4,"ngFor","ngForOf"],[3,"label"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,t){1&n&&(i.Vb(0,"mat-form-field",0),i.Hc(1,d,3,3,"mat-label",1),i.Vb(2,"mat-select",2),i.Hc(3,f,3,3,"mat-option",3),i.Hc(4,C,2,1,"ng-container",4),i.Hc(5,y,2,1,"ng-container",4),i.Ub(),i.Ub()),2&n&&(i.Cb(1),i.nc("ngIf",t.nav&&t.showLabel&&t.allOption),i.Cb(1),i.Eb(i.qc(7,P,t.nav)),i.nc("formControl",t.taxaControl),i.Cb(1),i.nc("ngIf",t.allOption),i.Cb(1),i.nc("ngIf",!t.overwriteTaxa),i.Cb(1),i.nc("ngIf",t.overwriteTaxa))},directives:[u.c,b.t,h.a,a.r,a.g,u.g,g.n,m.a,b.s,g.m],pipes:[m.d],styles:[".taxa-drop[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row-reverse;padding-right:10px}.mat-select[_ngcontent-%COMP%]{min-width:100%}  .mat-select-value{line-height:20px;padding-top:3px;vertical-align:middle}  .mat-form-field{line-height:20px}.in-nav2[_ngcontent-%COMP%]{border:1px solid #aaa;border-radius:5px;display:inline;background-color:#fff;padding:1px 3px 8px;vertical-align:middle;margin-left:-5px;min-width:100%}.in-nav2[_ngcontent-%COMP%]     mat-label{padding-top:5px}.drop-label[_ngcontent-%COMP%]{display:block;margin-top:3px}  .mat-select-arrow-wrapper{margin-top:3px;display:inline-block!important}"]}),n})();var k=e("Cd2c"),L=e("ulve");function I(n,t){if(1&n){const n=i.Wb();i.Vb(0,"mat-option",7),i.dc("click",(function(){i.yc(n);const e=t.$implicit;return i.hc().go(e)})),i.Vb(1,"div",8),i.Qb(2,"img",9),i.Vb(3,"div",10),i.Vb(4,"div"),i.Vb(5,"strong"),i.Jc(6),i.Ub(),i.Ub(),i.Vb(7,"i"),i.Jc(8),i.Ub(),i.Ub(),i.Ub(),i.Ub()}if(2&n){const n=t.$implicit;i.nc("value",n.scientificname),i.Cb(2),i.nc("src","https://mol.org/static/img/groups/taxa_"+n.taxa+".png",i.Ac),i.Cb(4),i.Lc("",n.vernacular," "),i.Cb(2),i.Kc(n.scientificname)}}const V=function(n){return{"search-form":!0,"in-nav":n}},U=function(){return{"taxa-drop":!0,"in-nav2":!0}},H=function(n){return{search:!0,"in-nav":n}};let S=(()=>{class n{constructor(n,t){this.speciesService=n,this.router=t,this.chosenSpecies=new i.o,this.chosenTaxa=new i.o,this.results=new i.o,this.nav=!0,this.spinner=!1,this.searchControl=new a.f,this.taxa=null,this._results=[],this.chosen=null,this.isMobile=!1,this.isMobile=window.innerWidth<=l.i.mobileMedium}ngOnInit(){this.searchControl.valueChanges.pipe(Object(c.a)(200),Object(o.a)(n=>(n=n.trim(),Boolean(n))),Object(s.a)(n=>this.speciesService.search(n,this.taxa?this.taxa.taxa:""))).subscribe(n=>{this._results=n,this.results.emit(this._results)})}go(n){return this.chosen=n,this.chosenSpecies.emit(this.chosen),""}setTaxa(n){this.taxa=n,this.chosenTaxa.emit(n)}}return n.\u0275fac=function(t){return new(t||n)(i.Pb(r.g),i.Pb(p.f))},n.\u0275cmp=i.Jb({type:n,selectors:[["mol-search"]],inputs:{nav:"nav",spinner:"spinner"},outputs:{chosenSpecies:"chosenSpecies",chosenTaxa:"chosenTaxa",results:"results"},decls:9,vars:19,consts:[["search",""],[3,"nav","chosen"],["appearance","none"],["type","text","matInput","",3,"placeholder","formControl","matAutocomplete"],[1,"search-results",3,"panelWidth"],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"],[1,"mat-option-text-sub"],["err-src","https://mol.org/static/img/groups/taxa_all.png",3,"src"],[1,"name"]],template:function(n,t){if(1&n&&(i.Vb(0,"div",null,0),i.Vb(2,"mol-availabletaxa-dropdown",1),i.dc("chosen",(function(n){return t.setTaxa(n)})),i.Ub(),i.Vb(3,"div",2),i.Qb(4,"input",3),i.ic(5,"translate"),i.Vb(6,"mat-autocomplete",4,5),i.Hc(8,I,9,4,"mat-option",6),i.Ub(),i.Ub(),i.Ub()),2&n){const n=i.uc(7);i.Eb(i.qc(14,V,t.nav)),i.Cb(2),i.Eb(i.pc(16,U)),i.nc("nav",!0),i.Cb(1),i.Eb(i.qc(17,H,t.nav)),i.Cb(1),i.nc("placeholder",i.jc(5,12,"search_species"))("formControl",t.searchControl)("matAutocomplete",n),i.Cb(2),i.nc("panelWidth",300),i.Cb(2),i.nc("ngForOf",t._results)}},directives:[M,k.b,a.c,L.c,a.r,a.g,L.a,b.s,g.n],pipes:[m.d],styles:[".search-form[_ngcontent-%COMP%]{display:inline-flex;align-items:center;text-align:left;padding-right:10px}.search-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#fff;padding:3px 5px;max-width:240px;font-size:1.1em;border-radius:5px;border:1px solid #aaa}.search.in-nav[_ngcontent-%COMP%], .search.in-nav[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:300px}.search[_ngcontent-%COMP%]{padding:0}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:500px;max-width:500px}.mat-option[_ngcontent-%COMP%]{line-height:20px;height:50px}.mat-option[_ngcontent-%COMP%]   .mat-option-text-sub[_ngcontent-%COMP%]{display:inline-flex}.mat-option[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:block}.mat-option[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;padding-right:5px;vertical-align:middle}@media only screen and (min-device-width:320px) and (max-device-width:480px){.search.in-nav[_ngcontent-%COMP%]{width:auto}.search.in-nav[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:250px}.search-form.in-nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-bottom:20px;padding-left:20px;align-items:center}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:auto;max-width:auto}}@media only screen and (min-device-width:320px) and (max-width:740px){.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:245px}}@media only screen and (max-width:490px){.search-form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-evenly}}"]}),n})()},nts4:function(n,t,e){"use strict";e.d(t,"a",(function(){return r}));var i=e("XZLj"),a=e("EM62"),c=e("2kYt"),o=e("csyo");function s(n,t){1&n&&a.Qb(0,"mat-spinner",1)}let r=(()=>{class n{constructor(n){this.spinner=n,this.display=!1}ngOnInit(){this.spinner.activeRequests.subscribe(n=>{this.display=n>0})}}return n.\u0275fac=function(t){return new(t||n)(a.Pb(i.h))},n.\u0275cmp=a.Jb({type:n,selectors:[["mol-spinner"]],decls:1,vars:1,consts:[["class","main-spinner","color","accent","diameter","60",4,"ngIf"],["color","accent","diameter","60",1,"main-spinner"]],template:function(n,t){1&n&&a.Hc(0,s,1,0,"mat-spinner",0),2&n&&a.nc("ngIf",t.display)},directives:[c.t,o.b],styles:[".main-spinner[_ngcontent-%COMP%]{z-index:1000000;position:absolute;top:30px;left:calc((100% / 2) - 30px)}"]}),n})()}}]);