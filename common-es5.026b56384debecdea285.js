!function(){function n(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function t(n,t){for(var e=0;e<t.length;e++){var a=t[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}function e(n,e,a){return e&&t(n.prototype,e),a&&t(n,a),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{J7xr:function(t,a,i){"use strict";i.d(a,"a",(function(){return k}));var o=i("wqpa"),c=i("EM62"),r=i("2kYt"),s=i("PBFl"),l=i("sEIs"),u=i("s2Ay");function p(n,t){if(1&n){var e=c.Wb();c.Vb(0,"a",7),c.dc("click",(function(){c.yc(e);var n=c.hc();return n.searchOpen=!n.searchOpen})),c.Qb(1,"i",8),c.Ub()}}var b=function(){return{exact:!0}};function g(n,t){if(1&n&&(c.Vb(0,"a",10),c.Ic(1),c.ic(2,"translate"),c.Ub()),2&n){var e=t.$implicit;c.nc("routerLinkActiveOptions",c.pc(7,b))("routerLink",e.route)("queryParams",e.data)("href",e.url,c.Ac),c.Cb(1),c.Kc(" ",c.jc(2,5,e.name)," ")}}function h(n,t){if(1&n&&(c.Vb(0,"div"),c.Gc(1,g,3,8,"a",9),c.Ub()),2&n){var e=c.hc();c.Cb(1),c.nc("ngForOf",e.links)}}function f(n,t){if(1&n){var e=c.Wb();c.Vb(0,"a",7),c.dc("click",(function(){c.yc(e);var n=c.hc();return n.menuOpen=!n.menuOpen})),c.Qb(1,"i",11),c.Ub()}}function m(n,t){1&n&&c.Qb(0,"div",12)}function d(n,t){1&n&&c.lc(0,0,["*ngIf","!mobile && (searchOpen || !showSearchLink)"])}function v(n,t){1&n&&(c.Vb(0,"span"),c.Qb(1,"i",8),c.Ic(2,"Search for a species"),c.Ub())}function x(n,t){1&n&&(c.Vb(0,"span"),c.Qb(1,"i",14),c.Ub())}function C(n,t){if(1&n){var e=c.Wb();c.Vb(0,"a",13),c.dc("click",(function(){return c.yc(e),c.hc().toggleSearch()})),c.Gc(1,v,3,0,"span",2),c.Gc(2,x,2,0,"span",2),c.Ub()}if(2&n){var a=c.hc();c.Cb(1),c.nc("ngIf",!a.searchOpen),c.Cb(1),c.nc("ngIf",a.searchOpen&&a.showSearchLink)}}function O(n,t){1&n&&(c.Vb(0,"div",15),c.lc(1,1),c.Ub())}function y(n,t){if(1&n&&(c.Vb(0,"a",18),c.Ic(1),c.ic(2,"translate"),c.Ub()),2&n){var e=t.$implicit;c.nc("routerLinkActiveOptions",c.pc(7,b))("routerLink",e.route)("queryParams",e.data)("href",e.url,c.Ac),c.Cb(1),c.Kc(" ",c.jc(2,5,e.name)," ")}}function w(n,t){if(1&n&&(c.Vb(0,"div",16),c.Gc(1,y,3,8,"a",17),c.Ub()),2&n){var e=c.hc();c.Cb(1),c.nc("ngForOf",e.links)}}var P=[[["","slot","search2"]],[["","slot","search1"]]],_=["[slot=search2]","[slot=search1]"],k=function(){var t=function(){function t(){n(this,t),this.showSearchLink=!1,this.searchOpen=!1,this.menuOpen=!1,this.mobile=!1,this.mobile=window.innerWidth<=o.i.mobileMedium}return e(t,[{key:"ngOnInit",value:function(){}},{key:"toggleSearch",value:function(){this.searchOpen=!this.searchOpen}}]),t}();return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=c.Jb({type:t,selectors:[["mol-nav"]],inputs:{links:"links",showSearchLink:"showSearchLink"},ngContentSelectors:_,decls:9,vars:8,consts:[[1,"navigation"],["mat-button","","class","mobile-only open-search-button",3,"click",4,"ngIf"],[4,"ngIf"],["class","spacer",4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],["class","navigation nav-menu mobile-search",4,"ngIf"],["class","navigation nav-menu",4,"ngIf"],["mat-button","",1,"mobile-only","open-search-button",3,"click"],[1,"fa","fa-search"],["mat-button","","routerLinkActive","active","queryParamsHandling","merge",3,"routerLinkActiveOptions","routerLink","queryParams","href",4,"ngFor","ngForOf"],["mat-button","","routerLinkActive","active","queryParamsHandling","merge",3,"routerLinkActiveOptions","routerLink","queryParams","href"],[1,"fa","fa-bars"],[1,"spacer"],["mat-button","",3,"click"],[1,"fa","fa-close"],[1,"navigation","nav-menu","mobile-search"],[1,"navigation","nav-menu"],["mat-button","","class","mobile-only","routerLinkActive","active","queryParamsHandling","merge",3,"routerLinkActiveOptions","routerLink","queryParams","href",4,"ngFor","ngForOf"],["mat-button","","routerLinkActive","active","queryParamsHandling","merge",1,"mobile-only",3,"routerLinkActiveOptions","routerLink","queryParams","href"]],template:function(n,t){1&n&&(c.mc(P),c.Vb(0,"div",0),c.Gc(1,p,2,0,"a",1),c.Gc(2,h,2,1,"div",2),c.Gc(3,f,2,0,"a",1),c.Gc(4,m,1,0,"div",3),c.Gc(5,d,1,0,void 0,2),c.Gc(6,C,3,2,"a",4),c.Ub(),c.Gc(7,O,2,0,"div",5),c.Gc(8,w,2,1,"div",6)),2&n&&(c.Cb(1),c.nc("ngIf",t.showSearchLink),c.Cb(1),c.nc("ngIf",!t.searchOpen),c.Cb(1),c.nc("ngIf",(null==t.links?null:t.links.length)>0),c.Cb(1),c.nc("ngIf",!t.mobile),c.Cb(1),c.nc("ngIf",!t.mobile&&(t.searchOpen||!t.showSearchLink)),c.Cb(1),c.nc("ngIf",t.showSearchLink&&(null==t.links?null:t.links.length)>0),c.Cb(1),c.nc("ngIf",t.mobile&&t.searchOpen),c.Cb(1),c.nc("ngIf",t.mobile&&t.menuOpen))},directives:[r.t,s.a,r.s,l.i,l.h],pipes:[u.d],styles:[".navigation[_ngcontent-%COMP%]{display:flex;text-align:center;background-color:#8cbf44;height:52px;padding:0 15px}.navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;border-radius:0;padding:0 20px;text-align:left;font-size:16px;font-weight:400;height:100%;line-height:50px}.navigation[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], .navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#87b93f;color:#fff;transition:all .3s ease}.spacer[_ngcontent-%COMP%]{flex-grow:1}.open-search-button[_ngcontent-%COMP%]{display:none}.fa.fa-search[_ngcontent-%COMP%]{margin-right:.5em}.mat-button[_ngcontent-%COMP%]{min-width:auto}@media screen and (max-device-width:480px){.navigation[_ngcontent-%COMP%]{flex-wrap:wrap;padding:0;flex-direction:row;height:unset;justify-content:space-between;align-items:flex-end}.navigation[_ngcontent-%COMP%]   .open-search-button[_ngcontent-%COMP%]{display:block}.navigation.nav-menu[_ngcontent-%COMP%]{box-shadow:0 2px 6px 0 #ddd;display:flex;flex-direction:column}.navigation.nav-menu[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#87b93f}.navigation.nav-menu.mobile-search[_ngcontent-%COMP%]{align-items:center}.navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(.active, .mobile-only)[_ngcontent-%COMP%]{display:none}.navigation[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#8cbf44}.space[_ngcontent-%COMP%]{display:none;flex-grow:0;width:0}}"]}),t}()},Xclt:function(t,a,i){"use strict";i.d(a,"a",(function(){return q}));var o=i("EM62"),c=i("nIj0"),r=i("mWib"),s=i("xVbo"),l=i("TLy2"),u=i("XZLj"),p=i("wqpa"),b=i("sEIs"),g=i("29Wa"),h=i("2kYt"),f=i("R7+U"),m=i("mFH5"),d=i("s2Ay");function v(n,t){1&n&&(o.Vb(0,"mat-label",5),o.Ic(1),o.ic(2,"translate"),o.Ub()),2&n&&(o.Cb(1),o.Jc(o.jc(2,1,"all_groups")))}function x(n,t){1&n&&(o.Vb(0,"mat-option",6),o.Ic(1),o.ic(2,"translate"),o.Ub()),2&n&&(o.Cb(1),o.Kc(" ",o.jc(2,1,"all_groups"),""))}function C(n,t){if(1&n&&(o.Vb(0,"mat-option",10),o.Ic(1),o.Ub()),2&n){var e=t.$implicit;o.nc("value",e.taxa),o.Cb(1),o.Kc(" ",e.title," ")}}function O(n,t){if(1&n&&(o.Vb(0,"mat-optgroup",8),o.Gc(1,C,2,2,"mat-option",9),o.Ub()),2&n){var e=t.$implicit;o.nc("label",e.name),o.Cb(1),o.nc("ngForOf",e.taxa)}}function y(n,t){if(1&n&&(o.Tb(0),o.Gc(1,O,2,2,"mat-optgroup",7),o.Sb()),2&n){var e=o.hc();o.Cb(1),o.nc("ngForOf",e.taxaGroups)}}function w(n,t){if(1&n&&(o.Vb(0,"mat-option",10),o.Ic(1),o.Ub()),2&n){var e=t.$implicit;o.nc("value",e.taxa),o.Cb(1),o.Kc(" ",e.title," ")}}function P(n,t){if(1&n&&(o.Vb(0,"mat-optgroup",8),o.Gc(1,w,2,2,"mat-option",9),o.Ub()),2&n){var e=t.$implicit;o.nc("label",e.name),o.Cb(1),o.nc("ngForOf",e.taxa)}}function _(n,t){if(1&n&&(o.Tb(0),o.Gc(1,P,2,2,"mat-optgroup",7),o.Sb()),2&n){var e=o.hc();o.Cb(1),o.nc("ngForOf",e.overwriteTaxa)}}var k,M=function(n){return{"in-nav2":n}},I={description:"",title:"All",taxa:"",tc_id:null,sortby:100,groupby_sortby:0,groupby:"all",icon:""},V=((k=function(){function t(e){n(this,t),this.speciesService=e,this.showLabel=!0,this.taxaControl=new c.f,this.chosen=new o.o,this.nav=!1,this.selected="",this.mode="",this.version="",this.allOption=!0,this.overwriteTaxa=null}return e(t,[{key:"ngOnInit",value:function(){var n=this;this.fetchTaxa(),this.taxaControl.valueChanges.subscribe((function(t){n.showLabel=!1,n.chosen.emit(""===t?I:n.taxa.find((function(n){return n.taxa===t})))}))}},{key:"ngOnChanges",value:function(n){n.version&&""!=this.version&&this.fetchTaxa()}},{key:"fetchTaxa",value:function(){var n=this;this.speciesService.availableTaxa(this.mode,this.version).subscribe((function(t){n.taxa=t;var e={};t.forEach((function(n){e[n.groupby]?e[n.groupby].taxa.push(n):e[n.groupby]={name:n.groupby,groupby_sortby:n.groupby_sortby,taxa:[n]}})),n.taxaGroups=Object.keys(e).map((function(n){return e[n]})).sort((function(n,t){return n.groupby_sortby-t.groupby_sortby})),n.selected&&n.taxaControl.setValue(n.selected)}))}}]),t}()).\u0275fac=function(n){return new(n||k)(o.Pb(u.g))},k.\u0275cmp=o.Jb({type:k,selectors:[["mol-availabletaxa-dropdown"]],inputs:{nav:"nav",selected:"selected",mode:"mode",version:"version",allOption:"allOption",overwriteTaxa:"overwriteTaxa"},outputs:{chosen:"chosen"},features:[o.Ab],decls:6,vars:9,consts:[["appearance","none","floatLabel","never",1,"taxa-drop"],["class","drop-label",4,"ngIf"],[3,"formControl"],["translate","","value","",4,"ngIf"],[4,"ngIf"],[1,"drop-label"],["translate","","value",""],[3,"label",4,"ngFor","ngForOf"],[3,"label"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,t){1&n&&(o.Vb(0,"mat-form-field",0),o.Gc(1,v,3,3,"mat-label",1),o.Vb(2,"mat-select",2),o.Gc(3,x,3,3,"mat-option",3),o.Gc(4,y,2,1,"ng-container",4),o.Gc(5,_,2,1,"ng-container",4),o.Ub(),o.Ub()),2&n&&(o.Cb(1),o.nc("ngIf",t.nav&&t.showLabel&&t.allOption),o.Cb(1),o.Eb(o.qc(7,M,t.nav)),o.nc("formControl",t.taxaControl),o.Cb(1),o.nc("ngIf",t.allOption),o.Cb(1),o.nc("ngIf",!t.overwriteTaxa),o.Cb(1),o.nc("ngIf",t.overwriteTaxa))},directives:[g.c,h.t,f.a,c.r,c.g,g.g,m.m,d.a,h.s,m.l],pipes:[d.d],styles:[".taxa-drop[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row-reverse;padding-right:10px}.mat-select[_ngcontent-%COMP%]{min-width:100%}  .mat-select-value{line-height:20px;padding-top:3px;vertical-align:middle}  .mat-form-field{line-height:20px}.in-nav2[_ngcontent-%COMP%]{border:1px solid #aaa;border-radius:5px;display:inline;background-color:#fff;padding:1px 3px 8px;vertical-align:middle;margin-left:-5px;min-width:100%}.in-nav2[_ngcontent-%COMP%]     mat-label{padding-top:5px}.drop-label[_ngcontent-%COMP%]{display:block;margin-top:3px}  .mat-select-arrow-wrapper{margin-top:3px;display:inline-block!important}"]}),k),L=i("Cd2c"),U=i("ulve");function G(n,t){if(1&n){var e=o.Wb();o.Vb(0,"mat-option",7),o.dc("click",(function(){o.yc(e);var n=t.$implicit;return o.hc().go(n)})),o.Vb(1,"div",8),o.Qb(2,"img",9),o.Vb(3,"div",10),o.Vb(4,"div"),o.Vb(5,"strong"),o.Ic(6),o.Ub(),o.Ub(),o.Vb(7,"i"),o.Ic(8),o.Ub(),o.Ub(),o.Ub(),o.Ub()}if(2&n){var a=t.$implicit;o.nc("value",a.scientificname),o.Cb(2),o.nc("src","https://mol.org/static/img/groups/taxa_"+a.taxa+".png",o.Ac),o.Cb(4),o.Kc("",a.vernacular," "),o.Cb(2),o.Jc(a.scientificname)}}var S,A=function(n){return{"search-form":!0,"in-nav":n}},T=function(){return{"taxa-drop":!0,"in-nav2":!0}},F=function(n){return{search:!0,"in-nav":n}},q=((S=function(){function t(e,a){n(this,t),this.speciesService=e,this.router=a,this.chosenSpecies=new o.o,this.chosenTaxa=new o.o,this.results=new o.o,this.nav=!0,this.spinner=!1,this.searchControl=new c.f,this.taxa=null,this._results=[],this.chosen=null,this.isMobile=!1,this.isMobile=window.innerWidth<=p.i.mobileMedium}return e(t,[{key:"ngOnInit",value:function(){var n=this;this.searchControl.valueChanges.pipe(Object(r.a)(200),Object(s.a)((function(n){return n=n.trim(),Boolean(n)})),Object(l.a)((function(t){return n.speciesService.search(t,n.taxa?n.taxa.taxa:"")}))).subscribe((function(t){n._results=t,n.results.emit(n._results)}))}},{key:"go",value:function(n){return this.chosen=n,this.chosenSpecies.emit(this.chosen),""}},{key:"setTaxa",value:function(n){this.taxa=n,this.chosenTaxa.emit(n)}}]),t}()).\u0275fac=function(n){return new(n||S)(o.Pb(u.g),o.Pb(b.f))},S.\u0275cmp=o.Jb({type:S,selectors:[["mol-search"]],inputs:{nav:"nav",spinner:"spinner"},outputs:{chosenSpecies:"chosenSpecies",chosenTaxa:"chosenTaxa",results:"results"},decls:9,vars:19,consts:[["search",""],[3,"nav","chosen"],["appearance","none"],["type","text","matInput","",3,"placeholder","formControl","matAutocomplete"],[1,"search-results",3,"panelWidth"],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"],[1,"mat-option-text-sub"],["err-src","https://mol.org/static/img/groups/taxa_all.png",3,"src"],[1,"name"]],template:function(n,t){if(1&n&&(o.Vb(0,"div",null,0),o.Vb(2,"mol-availabletaxa-dropdown",1),o.dc("chosen",(function(n){return t.setTaxa(n)})),o.Ub(),o.Vb(3,"div",2),o.Qb(4,"input",3),o.ic(5,"translate"),o.Vb(6,"mat-autocomplete",4,5),o.Gc(8,G,9,4,"mat-option",6),o.Ub(),o.Ub(),o.Ub()),2&n){var e=o.uc(7);o.Eb(o.qc(14,A,t.nav)),o.Cb(2),o.Eb(o.pc(16,T)),o.nc("nav",!0),o.Cb(1),o.Eb(o.qc(17,F,t.nav)),o.Cb(1),o.nc("placeholder",o.jc(5,12,"search_species"))("formControl",t.searchControl)("matAutocomplete",e),o.Cb(2),o.nc("panelWidth",300),o.Cb(2),o.nc("ngForOf",t._results)}},directives:[V,L.b,c.c,U.c,c.r,c.g,U.a,h.s,m.m],pipes:[d.d],styles:[".search-form[_ngcontent-%COMP%]{display:inline-flex;align-items:center;text-align:left;padding-right:10px}.search-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#fff;padding:3px 5px;max-width:240px;font-size:1.1em;border-radius:5px;border:1px solid #aaa}.search.in-nav[_ngcontent-%COMP%], .search.in-nav[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:300px}.search[_ngcontent-%COMP%]{padding:0}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:500px;max-width:500px}.mat-option[_ngcontent-%COMP%]{line-height:20px;height:50px}.mat-option[_ngcontent-%COMP%]   .mat-option-text-sub[_ngcontent-%COMP%]{display:inline-flex}.mat-option[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:block}.mat-option[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;padding-right:5px;vertical-align:middle}@media only screen and (min-device-width:320px) and (max-device-width:480px){.search.in-nav[_ngcontent-%COMP%]{width:auto}.search.in-nav[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:250px}.search-form.in-nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-bottom:20px;padding-left:20px;align-items:center}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:auto;max-width:auto}}@media only screen and (min-device-width:320px) and (max-width:740px){.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:245px}}@media only screen and (max-width:490px){.search-form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-evenly}}"]}),S)}}])}();